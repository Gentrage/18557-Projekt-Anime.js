<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <title>Anime.js</title>
</head>
<body>
   
    <button id="cta">Anime.js</button>

    <svg viewBox="0 0 215 110">
        <polygon class="polymorph" points="215,110 0,110 0,0 47.7,0 215,0"></polygon>
    </svg>

    <div id="blip">
        <h1>Strona główna</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum consequat orci at ante ullamcorper porttitor. Integer elit nisl, condimentum ac nulla id, ullamcorper sodales augue.</p>
        <button id="cta2">Powrót</button>
    </div>

    <script src="./anime.min.js"></script>

    <script>
        var btn = document.getElementById('cta');
        var btn2 = document.getElementById('cta2');

        btn.onclick = function(){
            var morphing = anime({
                targets: '.polymorph',
                points: [
                    { value: '215,110 0,110 0,0 47.7,0 67,76' },
                    { value: '215,110 0,110 0,0 0,0 67,76' }
                ],
                easing: 'easeOutQuad',
                duration: 1200,
                loop: false
            });
            
            anime({
                targets: '#blip',
                opacity: 1,
                duration: 1000,
                translateY: 150
            })

           
                var promise = morphing.finished.then(() => {

                    btn2.onclick = function(){
                        var morphing = anime({
                            targets: '.polymorph',
                            points: [
                                { value: '215,110 0,110 0,0 47.7,0 67,76' },
                                { value: '215,110 0,110 0,0 47.7,0 215,0' }
                            ],
                            easing: 'easeOutQuad',
                            duration: 1200,
                            loop: false
                        });

                        anime({
                            targets: '#blip',
                            opacity: 0,
                            duration: 1000,
                            translateY: -800,
                        })
                    }
                })  
            }  
    </script>

</body>
</html>